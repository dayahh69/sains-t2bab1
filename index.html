<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuiz Flash Card - Kekurangan Vitamin & Mineral</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .flip-card {
            perspective: 1000px;
            width: 100%;
            height: 350px;
        }
        
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        
        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }
        
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 640px) {
            .flip-card-front, .flip-card-back {
                padding: 16px;
            }
        }
        
        .flip-card-back {
            transform: rotateY(180deg);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-gradient-front-1 {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
        }
        .card-gradient-front-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .card-gradient-front-3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .card-gradient-front-4 {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        .card-gradient-front-5 {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        .card-gradient-front-6 {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .card-gradient-front-7 {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }
        
        .card-gradient-back-1 {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .card-gradient-back-2 {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .card-gradient-back-3 {
            background: linear-gradient(135deg, #fdbb2d 0%, #22c1c3 100%);
        }
        .card-gradient-back-4 {
            background: linear-gradient(135deg, #ee9ca7 0%, #ffdde1 100%);
        }
        .card-gradient-back-5 {
            background: linear-gradient(135deg, #2196f3 0%, #21cbf3 100%);
        }
        .card-gradient-back-6 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .card-gradient-back-7 {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        
        .progress-fill {
            transition: width 0 s ease;
        }
        
        @media (max-width: 640px) {
            .flip-card {
                height: 320px;
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 id="main-title" class="text-3xl md:text-4xl font-bold text-white mb-4">
                Kuiz Kekurangan Vitamin & Mineral dalam Badan Manusia
            </h1>
            
            <!-- Language Toggle -->
            <div class="flex justify-center mb-6">
                <div class="bg-white/20 backdrop-blur-sm rounded-full p-1">
                    <button id="lang-ms" class="px-4 py-2 rounded-full text-white font-medium transition-all duration-300 bg-white/30">
                        Bahasa Malaysia
                    </button>
                    <button id="lang-en" class="px-4 py-2 rounded-full text-white font-medium transition-all duration-300">
                        English
                    </button>
                </div>
            </div>
            

        </div>

        <!-- Instructions Page -->
        <div id="instructions-page" class="text-center">
            <div class="bg-white/10 backdrop-blur-sm rounded-xl p-8 mb-8 border-l-4 border-yellow-400">
                <div class="text-2xl md:text-3xl font-bold mb-6 text-white" id="instructions-title">📚 Arahan Kuiz</div>
                <div class="space-y-4 text-base md:text-lg text-white text-left max-w-2xl mx-auto">
                    <p class="flex items-center"><span class="mr-3">🔄</span> <span id="instruction-1">Tekan butang "Balikkan Kad" atau tekan <kbd class="bg-white/20 px-2 py-1 rounded mx-1">Spacebar</kbd> untuk melihat jawapan</span></p>
                    <p class="flex items-center"><span class="mr-3">⬅️➡️</span> <span id="instruction-2">Gunakan butang atau <kbd class="bg-white/20 px-2 py-1 rounded mx-1">←→</kbd> untuk navigasi</span></p>
                    <p class="flex items-center"><span class="mr-3">🌐</span> <span id="instruction-3">Tukar bahasa dengan menekan butang di sudut atas</span></p>
                </div>
            </div>
            <button id="start-quiz-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg transition-all duration-300 shadow-lg text-lg">
                <span id="start-text">Mula Kuiz</span> 🚀
            </button>
        </div>

        <!-- Quiz Page -->
        <div id="quiz-page" class="hidden">
            <!-- Progress Bar -->
            <div class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span id="progress-text" class="text-white font-medium">Soalan 1 daripada 7</span>
                    <span id="progress-percentage" class="text-white font-medium">14%</span>
                </div>
                <div class="w-full bg-white/20 rounded-full h-3">
                    <div id="progress-bar" class="progress-fill bg-white h-3 rounded-full" style="width: 14.3%"></div>
                </div>
            </div>

            <!-- Flash Card -->
            <div class="flip-card mb-8" id="flashCard">
                <div class="flip-card-inner">
                    <!-- Front of Card (Question) -->
                    <div class="flip-card-front" id="card-front">
                        <div class="text-center">
                            <div class="text-xl md:text-2xl font-bold text-black mb-4" id="question-number">Soalan 1</div>
                            <div class="text-lg md:text-xl text-black leading-relaxed font-medium px-2" id="question-text">
                                Siti kerap berasa letih, pucat dan mengalami anemia. Ujian darah menunjukkan kekurangan mineral tertentu.
                            </div>
                            <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3" id="options">
                                <div class="bg-white/20 backdrop-blur-sm rounded-lg p-3 text-black font-semibold text-base md:text-lg">Zat besi (Fe)</div>
                                <div class="bg-white/20 backdrop-blur-sm rounded-lg p-3 text-black font-semibold text-base md:text-lg">Kalsium (Ca)</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Back of Card (Answer) -->
                    <div class="flip-card-back" id="card-back">
                        <div class="text-center">
                            <div class="text-3xl md:text-4xl font-bold text-black mb-4">✓</div>
                            <div class="text-xl md:text-2xl font-bold text-black mb-4" id="answer-label">Jawapan Betul:</div>
                            <div class="text-2xl md:text-3xl font-bold text-black px-2" id="answer-text">
                                Zat besi (Fe)
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <!-- Navigation Buttons -->
                <div class="flex gap-3">
                    <button id="prevBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg">
                        ← <span id="prev-text">Sebelumnya</span>
                    </button>
                    
                    <button id="flipBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 shadow-lg">
                        <span id="flip-text">Balikkan Kad</span>
                    </button>
                    
                    <button id="nextBtn" class="bg-purple-500 hover:bg-purple-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 shadow-lg">
                        <span id="next-text">Seterusnya</span> →
                    </button>
                    
                    <button id="finishBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 shadow-lg hidden">
                        <span id="finish-text">Tamat Kuiz</span> ✓
                    </button>
                </div>
            </div>
        </div>

        <!-- Completion Page -->
        <div id="completion-page" class="text-center hidden">
            <div class="bg-white/10 backdrop-blur-sm rounded-xl p-8 mb-8 border-l-4 border-green-400">
                <div class="text-4xl md:text-5xl mb-6">🎉</div>
                <div class="text-2xl md:text-3xl font-bold mb-4 text-white" id="congratulations-title">Tahniah!</div>
                <div class="text-lg md:text-xl text-white mb-6" id="completion-message">
                    Anda telah berjaya menyelesaikan semua 7 soalan tentang kekurangan vitamin dan mineral dalam badan manusia!
                </div>
                <div class="text-base md:text-lg text-white/80" id="completion-subtitle">
                    Semoga pengetahuan ini membantu anda memahami kepentingan vitamin dan mineral untuk kesihatan.
                </div>
            </div>
            <button id="restart-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-8 rounded-lg transition-all duration-300 shadow-lg text-lg">
                <span id="restart-text">Mula Semula</span> 🔄
            </button>
        </div>
    </div>

    <script>
        // Quiz data
        const quizData = {
            ms: [
                {
                    question: "Siti kerap berasa letih, pucat dan mengalami anemia. Ujian darah menunjukkan kekurangan mineral tertentu.",
                    options: ["Zat besi (Fe)", "Kalsium (Ca)"],
                    answer: "Zat besi (Fe)"
                },
                {
                    question: "Farid mengalami masalah gigi rapuh dan tulang yang mudah patah. Kekurangan mineral tertentu dikesan dalam badannya.",
                    options: ["Kalsium (Ca)", "Fosforus (P)"],
                    answer: "Kalsium (Ca)"
                },
                {
                    question: "Rafiq mengalami masalah darah sukar membeku apabila terluka. Ini disebabkan oleh kekurangan sejenis vitamin.",
                    options: ["Vitamin K", "Vitamin D"],
                    answer: "Vitamin K"
                },
                {
                    question: "Amir sukar melihat dengan jelas pada waktu malam. Keadaan ini berpunca daripada kekurangan vitamin.",
                    options: ["Vitamin B₁₂", "Vitamin A"],
                    answer: "Vitamin A"
                },
                {
                    question: "Aisyah sering mengalami pendarahan gusi apabila memberus gigi. Doktor mendapati badannya kekurangan sejenis vitamin.",
                    options: ["Vitamin D", "Vitamin C"],
                    answer: "Vitamin C"
                },
                {
                    question: "Azman mempunyai leher yang membengkak akibat pembesaran kelenjar tiroid. Doktor mendapati keadaan ini berpunca daripada kekurangan mineral tertentu.",
                    options: ["Iodin (I)", "Magnesium (Mg)"],
                    answer: "Iodin (I)"
                },
                {
                    question: "Seorang kanak-kanak didapati mengalami masalah kaki bengkok, gigi lambat tumbuh, dan tulangnya rapuh. Doktor mengesahkan dia menghidap penyakit riket. Kekurangan vitamin apakah yang menyebabkan penyakit ini?",
                    options: ["Vitamin C", "Vitamin D"],
                    answer: "Vitamin D"
                }
            ],
            en: [
                {
                    question: "Siti often feels tired, pale and experiences anemia. Blood tests show a deficiency of certain minerals.",
                    options: ["Iron (Fe)", "Calcium (Ca)"],
                    answer: "Iron (Fe)"
                },
                {
                    question: "Farid experiences brittle teeth and bones that break easily. A deficiency of certain minerals is detected in his body.",
                    options: ["Calcium (Ca)", "Phosphorus (P)"],
                    answer: "Calcium (Ca)"
                },
                {
                    question: "Rafiq has problems with blood clotting when injured. This is caused by a deficiency of a certain vitamin.",
                    options: ["Vitamin K", "Vitamin D"],
                    answer: "Vitamin K"
                },
                {
                    question: "Amir has difficulty seeing clearly at night. This condition stems from a vitamin deficiency.",
                    options: ["Vitamin B₁₂", "Vitamin A"],
                    answer: "Vitamin A"
                },
                {
                    question: "Aisyah often experiences bleeding gums when brushing her teeth. The doctor found that her body lacks a certain vitamin.",
                    options: ["Vitamin D", "Vitamin C"],
                    answer: "Vitamin C"
                },
                {
                    question: "Azman has a swollen neck due to thyroid gland enlargement. The doctor found this condition stems from a deficiency of certain minerals.",
                    options: ["Iodine (I)", "Magnesium (Mg)"],
                    answer: "Iodine (I)"
                },
                {
                    question: "A child is found to have problems with bow legs, delayed tooth growth, and brittle bones. The doctor confirmed he has rickets. What deficiency causes this disease?",
                    options: ["Vitamin C", "Vitamin D"],
                    answer: "Vitamin D"
                }
            ]
        };

        // Language translations
        const translations = {
            ms: {
                title: "Kuiz Kekurangan Vitamin & Mineral dalam Badan Manusia",
                progressText: "Soalan {current} daripada {total}",
                questionLabel: "Soalan {number}",
                answerLabel: "Jawapan Betul:",
                prevText: "Sebelumnya",
                nextText: "Seterusnya",
                flipText: "Balikkan Kad",
                startText: "Mula Kuiz",
                congratulationsTitle: "Tahniah!",
                completionMessage: "Anda telah berjaya menyelesaikan kesemua soalan tentang kekurangan vitamin dan mineral dalam badan manusia!",
                completionSubtitle: "Semoga pengetahuan ini membantu anda memahami kepentingan vitamin dan mineral untuk kesihatan.",
                restartText: "Mula Semula",
                finishText: "Tamat Kuiz",
                instructionsTitle: "📚 Arahan Kuiz",
                instruction1: 'Tekan butang "Balikkan Kad" atau tekan <kbd class="bg-white/20 px-2 py-1 rounded mx-1">Spacebar</kbd> untuk melihat jawapan',
                instruction2: 'Gunakan butang atau <kbd class="bg-white/20 px-2 py-1 rounded mx-1">←→</kbd> untuk navigasi',
                instruction3: 'Tukar bahasa dengan menekan butang di sudut atas'
            },
            en: {
                title: "Quiz on Vitamin & Mineral Deficiencies in Human Body",
                progressText: "Question {current} of {total}",
                questionLabel: "Question {number}",
                answerLabel: "Correct Answer:",
                prevText: "Previous",
                nextText: "Next",
                flipText: "Flip Card",
                startText: "Start Quiz",
                congratulationsTitle: "Congratulations!",
                completionMessage: "You have successfully completed all 7 questions about vitamin and mineral deficiencies in the human body!",
                completionSubtitle: "Hope this knowledge helps you understand the importance of vitamins and minerals for health.",
                restartText: "Restart",
                finishText: "Finish Quiz",
                instructionsTitle: "📚 Quiz Instructions",
                instruction1: 'Press "Flip Card" button or press <kbd class="bg-white/20 px-2 py-1 rounded mx-1">Spacebar</kbd> to see answer',
                instruction2: 'Use buttons or <kbd class="bg-white/20 px-2 py-1 rounded mx-1">←→</kbd> for navigation',
                instruction3: 'Change language by pressing button at top corner'
            }
        };

        // State
        let currentQuestion = 0;
        let currentLanguage = 'ms';
        let isFlipped = false;
        let currentPage = 'instructions'; // 'instructions', 'quiz', 'completion'

        // DOM elements
        const flashCard = document.getElementById('flashCard');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const finishBtn = document.getElementById('finishBtn');
        const flipBtn = document.getElementById('flipBtn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const progressPercentage = document.getElementById('progress-percentage');
        const langMsBtn = document.getElementById('lang-ms');
        const langEnBtn = document.getElementById('lang-en');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const restartBtn = document.getElementById('restart-btn');
        const instructionsPage = document.getElementById('instructions-page');
        const quizPage = document.getElementById('quiz-page');
        const completionPage = document.getElementById('completion-page');

        // Initialize
        function init() {
            showPage('instructions');
            updateLanguage();
        }

        // Show specific page
        function showPage(page) {
            currentPage = page;
            
            // Hide all pages
            instructionsPage.classList.add('hidden');
            quizPage.classList.add('hidden');
            completionPage.classList.add('hidden');
            
            // Show current page
            switch(page) {
                case 'instructions':
                    instructionsPage.classList.remove('hidden');
                    break;
                case 'quiz':
                    quizPage.classList.remove('hidden');
                    updateCard();
                    updateProgress();
                    updateNavigation();
                    break;
                case 'completion':
                    completionPage.classList.remove('hidden');
                    break;
            }
        }

        // Update card content
        function updateCard() {
            const data = quizData[currentLanguage][currentQuestion];
            const trans = translations[currentLanguage];
            
            document.getElementById('question-number').textContent = trans.questionLabel.replace('{number}', currentQuestion + 1);
            document.getElementById('question-text').textContent = data.question;
            document.getElementById('answer-text').textContent = data.answer;
            document.getElementById('answer-label').textContent = trans.answerLabel;
            
            // Update card colors based on question number
            const cardFront = document.getElementById('card-front');
            const cardBack = document.getElementById('card-back');
            const questionNum = currentQuestion + 1;
            
            // Remove all existing gradient classes
            cardFront.className = 'flip-card-front';
            cardBack.className = 'flip-card-back';
            
            // Add new gradient classes
            cardFront.classList.add(`card-gradient-front-${questionNum}`);
            cardBack.classList.add(`card-gradient-back-${questionNum}`);
            
            // Update options
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            data.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'bg-white/20 backdrop-blur-sm rounded-lg p-3 text-black font-semibold text-base md:text-lg';
                optionDiv.textContent = option;
                optionsContainer.appendChild(optionDiv);
            });
            
            // Ensure card shows question side (not flipped)
            flashCard.classList.remove('flipped');
            isFlipped = false;
        }

        // Update progress
        function updateProgress() {
            const progress = ((currentQuestion + 1) / quizData[currentLanguage].length) * 100;
            const trans = translations[currentLanguage];
            
            progressBar.style.width = `${progress}%`;
            progressText.textContent = trans.progressText
                .replace('{current}', currentQuestion + 1)
                .replace('{total}', quizData[currentLanguage].length);
            progressPercentage.textContent = `${Math.round(progress)}%`;
        }

        // Update navigation buttons
        function updateNavigation() {
            prevBtn.disabled = currentQuestion === 0;
            
            // Show/hide buttons based on current question
            if (currentQuestion === quizData[currentLanguage].length - 1) {
                nextBtn.style.display = 'none';
                finishBtn.style.display = 'inline-block';
            } else {
                nextBtn.style.display = 'inline-block';
                finishBtn.style.display = 'none';
                nextBtn.disabled = false;
            }
        }

        // Update language
        function updateLanguage() {
            const trans = translations[currentLanguage];
            
            document.getElementById('main-title').textContent = trans.title;
            document.getElementById('prev-text').textContent = trans.prevText;
            document.getElementById('next-text').textContent = trans.nextText;
            document.getElementById('flip-text').textContent = trans.flipText;
            document.getElementById('start-text').textContent = trans.startText;
            document.getElementById('congratulations-title').textContent = trans.congratulationsTitle;
            document.getElementById('completion-message').textContent = trans.completionMessage;
            document.getElementById('completion-subtitle').textContent = trans.completionSubtitle;
            document.getElementById('restart-text').textContent = trans.restartText;
            document.getElementById('finish-text').textContent = trans.finishText;
            document.getElementById('instructions-title').textContent = trans.instructionsTitle;
            document.getElementById('instruction-1').innerHTML = trans.instruction1;
            document.getElementById('instruction-2').innerHTML = trans.instruction2;
            document.getElementById('instruction-3').innerHTML = trans.instruction3;
            
            // Update language buttons
            if (currentLanguage === 'ms') {
                langMsBtn.classList.add('bg-white/30');
                langEnBtn.classList.remove('bg-white/30');
            } else {
                langEnBtn.classList.add('bg-white/30');
                langMsBtn.classList.remove('bg-white/30');
            }
            
            if (currentPage === 'quiz') {
                updateCard();
                updateProgress();
            }
        }

        // Flip card
        function flipCard() {
            flashCard.classList.toggle('flipped');
            isFlipped = !isFlipped;
        }

        // Navigation functions
        function nextQuestion() {
            if (currentQuestion < quizData[currentLanguage].length - 1) {
                currentQuestion++;
                // Force reset to question side and update immediately
                isFlipped = false;
                flashCard.classList.remove('flipped');
                updateCard();
                updateProgress();
                updateNavigation();
            } else {
                // Quiz completed, show completion page
                showPage('completion');
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                // Force reset to question side and update immediately
                isFlipped = false;
                flashCard.classList.remove('flipped');
                updateCard();
                updateProgress();
                updateNavigation();
            }
        }

        // Event listeners
        flashCard.addEventListener('click', flipCard);
        flipBtn.addEventListener('click', flipCard);
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        finishBtn.addEventListener('click', () => showPage('completion'));

        // Page navigation
        startQuizBtn.addEventListener('click', () => {
            currentQuestion = 0;
            isFlipped = false;
            showPage('quiz');
        });

        restartBtn.addEventListener('click', () => {
            currentQuestion = 0;
            isFlipped = false;
            showPage('instructions');
        });

        // Language toggle
        langMsBtn.addEventListener('click', () => {
            currentLanguage = 'ms';
            updateLanguage();
        });

        langEnBtn.addEventListener('click', () => {
            currentLanguage = 'en';
            updateLanguage();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (currentPage !== 'quiz') return; // Only work in quiz page
            
            switch(e.code) {
                case 'Space':
                    e.preventDefault();
                    flipCard();
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    prevQuestion();
                    break;
                case 'ArrowRight':
                    e.preventDefault();
                    nextQuestion();
                    break;
            }
        });

        // Initialize the quiz
        init();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981805d3f616d4a9',t:'MTc1ODI3Mzc5MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

