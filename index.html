<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuiz Haiwan Interaktif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; }
        .slide { display: none; }
        .slide.active { display: block; }
        .progress-fill { transition: width 0.3s ease; }
        .answer-btn { transition: all 0.3s ease; }
        .answer-btn:hover { transform: translateY(-2px); }
        .correct { background: linear-gradient(135deg, #10b981, #059669); }
        .incorrect { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .feedback { animation: fadeIn 0.5s ease; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="flex justify-end mb-4">
                <button id="langBtn" onclick="toggleLanguage()" class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-300">
                    English
                </button>
            </div>
            <h1 id="title" class="text-4xl font-bold text-gray-800 mb-2">üêæ Ciri Haiwan Vertebrata üêæ</h1>
        </div>

        <!-- Progress Bar -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-semibold text-gray-600">Progres</span>
                <span id="counter" class="text-sm font-semibold text-gray-600">1/8</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
                <div id="progressBar" class="progress-fill bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full" style="width: 12.5%"></div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="bg-white rounded-2xl shadow-xl p-8 mb-6">
            <!-- Instructions Slide -->
            <div class="slide active" id="instructions-slide">
                <div class="text-center">
                    <div class="text-6xl mb-6">üìö</div>
                    <h2 id="instructionsTitle" class="text-3xl font-bold text-gray-800 mb-6">Arahan Kuiz</h2>
                    <div class="bg-blue-50 rounded-xl p-6 mb-6 text-left">
                        <ul id="instructionsList" class="space-y-3 text-lg text-gray-700">
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-3">1.</span>
                                <span>Kuiz ini mengandungi 8 soalan tentang ciri-ciri haiwan vertebrata</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-3">2.</span>
                                <span>Setiap soalan mempunyai 2 pilihan jawapan</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-3">3.</span>
                                <span>Klik pada jawapan yang anda rasa betul</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-3">4.</span>
                                <span>Jika jawapan salah, anda boleh cuba lagi</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-3">5.</span>
                                <span>Gunakan butang "Previous" dan "Next" untuk navigasi</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-3">6.</span>
                                <span>Markah anda akan dipaparkan di akhir kuiz</span>
                            </li>
                        </ul>
                    </div>
                    <button id="startQuizBtn" onclick="startQuiz()" class="bg-gradient-to-r from-green-500 to-blue-500 text-white px-8 py-3 rounded-xl font-semibold hover:from-green-600 hover:to-blue-600 transition-all duration-300 transform hover:scale-105">
                        <span id="startBtn">Mula Kuiz</span>
                    </button>
                </div>
            </div>

            <!-- Question 1 -->
            <div class="slide" id="slide-0">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">ü¶á</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Kelawar</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah jenis darah kelawar?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(0, false, this)">
                        Berdarah sejuk
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(0, true, this)">
                        Berdarah panas
                    </button>
                </div>
                <div id="feedback-0" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 2 -->
            <div class="slide" id="slide-1">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">üê∏</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Katak</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah habitat bagi katak?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(1, true, this)">
                        Boleh hidup di darat dan air
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(1, false, this)">
                        Hanya hidup di darat
                    </button>
                </div>
                <div id="feedback-1" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 3 -->
            <div class="slide" id="slide-2">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">üêç</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Ular</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah jenis liputan badan ular?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(2, false, this)">
                        Berlendir
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(2, true, this)">
                        Bersisik keras
                    </button>
                </div>
                <div id="feedback-2" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 4 -->
            <div class="slide" id="slide-3">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">üêü</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Ikan</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah organ pernafasan bagi ikan?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(3, false, this)">
                        Paru-paru
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(3, true, this)">
                        Insang
                    </button>
                </div>
                <div id="feedback-3" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 5 -->
            <div class="slide" id="slide-4">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">üê¢</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Penyu</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah cara pembiakan bagi penyu?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(4, true, this)">
                        Bertelur
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(4, false, this)">
                        Melahirkan anak
                    </button>
                </div>
                <div id="feedback-4" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 6 -->
            <div class="slide" id="slide-5">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">üêÑ</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Lembu</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah organ pernafasan bagi lembu?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(5, false, this)">
                        Insang
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(5, true, this)">
                        Paru-paru
                    </button>
                </div>
                <div id="feedback-5" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 7 -->
            <div class="slide" id="slide-6">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">ü¶Å</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Singa</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah jenis liputan badan singa?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(6, true, this)">
                        Mempunyai bulu, melahirkan anak
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(6, false, this)">
                        Bersisik dan bertelur
                    </button>
                </div>
                <div id="feedback-6" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Question 8 -->
            <div class="slide" id="slide-7">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4">ü¶é</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Salamander</h2>
                    <p class="text-lg text-gray-600 mb-6">Apakah kelas vertebrata bagi salamander?</p>
                </div>
                <div class="space-y-4">
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-400 bg-gray-50 hover:bg-blue-50 text-gray-700" onclick="checkAnswer(7, false, this)">
                        Mamalia
                    </button>
                    <button class="answer-btn w-full p-4 text-lg font-semibold rounded-xl border-2 border-gray-200 hover:border-green-400 bg-gray-50 hover:bg-green-50 text-gray-700" onclick="checkAnswer(7, true, this)">
                        Amfibia
                    </button>
                </div>
                <div id="feedback-7" class="feedback mt-6 text-center hidden"></div>
            </div>

            <!-- Results Slide -->
            <div class="slide" id="results-slide">
                <div class="text-center">
                    <div class="text-6xl mb-6">üéâ</div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Tahniah! Kuiz Selesai!</h2>
                    <div class="bg-gradient-to-r from-green-400 to-blue-500 text-white rounded-2xl p-8 mb-6">
                        <div class="text-5xl font-bold mb-2" id="finalScore">0/8</div>
                        <div class="text-xl">Markah Anda</div>
                    </div>
                    <div id="scoreMessage" class="text-lg text-gray-600 mb-6"></div>
                    <button onclick="restartQuiz()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105">
                        Mula Semula
                    </button>
                </div>
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="flex justify-between">
            <button id="prevBtn" onclick="previousSlide()" class="bg-gray-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-gray-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                ‚Üê Previous
            </button>
            <button id="nextBtn" onclick="nextSlide()" class="bg-blue-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                Next ‚Üí
            </button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        let score = 0;
        let answered = new Array(8).fill(false);
        const totalQuestions = 8;

        function updateProgress() {
            const progress = ((currentSlide + 1) / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('counter').textContent = `${currentSlide + 1}/${totalQuestions}`;
        }

        function checkAnswer(questionIndex, isCorrect, button) {
            const feedback = document.getElementById(`feedback-${questionIndex}`);
            const allButtons = button.parentElement.querySelectorAll('.answer-btn');
            
            if (isCorrect) {
                if (!answered[questionIndex]) {
                    score++;
                    answered[questionIndex] = true;
                }
                
                // Disable all buttons for this question
                allButtons.forEach(btn => btn.disabled = true);
                
                button.classList.add('correct');
                button.classList.remove('bg-gray-50', 'hover:bg-green-50');
                feedback.innerHTML = `<div class="text-green-600 font-semibold text-lg">${translations[currentLanguage].correctFeedback}</div>`;
                document.getElementById('nextBtn').disabled = false;
            } else {
                button.classList.add('incorrect');
                button.classList.remove('bg-gray-50', 'hover:bg-blue-50');
                feedback.innerHTML = `<div class="text-red-600 font-semibold text-lg">${translations[currentLanguage].incorrectFeedback}</div>`;
                
                // Reset button after 1 second to allow retry
                setTimeout(() => {
                    button.classList.remove('incorrect');
                    button.classList.add('bg-gray-50', 'hover:bg-blue-50');
                    feedback.classList.add('hidden');
                }, 1000);
            }
            
            feedback.classList.remove('hidden');
        }

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));
            
            if (n >= totalQuestions) {
                showResults();
                return;
            }
            
            if (n < 0) {
                document.getElementById('instructions-slide').classList.add('active');
                currentSlide = -1;
                document.getElementById('prevBtn').disabled = true;
                document.getElementById('nextBtn').disabled = false;
                document.getElementById('counter').textContent = translations[currentLanguage].instructionCounter;
                document.getElementById('progressBar').style.width = '0%';
                return;
            }
            
            document.getElementById(`slide-${n}`).classList.add('active');
            currentSlide = n;
            updateProgress();
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = (n === 0);
            document.getElementById('nextBtn').disabled = !answered[n];
        }

        function nextSlide() {
            if (currentSlide === -1) {
                startQuiz();
            } else if (currentSlide < totalQuestions - 1) {
                showSlide(currentSlide + 1);
            } else {
                showResults();
            }
        }

        function previousSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        function showResults() {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));
            document.getElementById('results-slide').classList.add('active');
            
            document.getElementById('finalScore').textContent = `${score}/${totalQuestions}`;
            
            const t = translations[currentLanguage];
            const percentage = (score / totalQuestions) * 100;
            let messageIndex = 3; // Default to lowest score message
            
            if (percentage === 100) messageIndex = 0;
            else if (percentage >= 75) messageIndex = 1;
            else if (percentage >= 50) messageIndex = 2;
            
            document.getElementById('scoreMessage').textContent = t.scoreMessages[messageIndex];
            
            // Hide navigation buttons
            document.getElementById('prevBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            
            // Update progress to 100%
            document.getElementById('progressBar').style.width = '100%';
            document.getElementById('counter').textContent = translations[currentLanguage].completed;
        }

        function restartQuiz() {
            currentSlide = -1;
            score = 0;
            answered.fill(false);
            
            // Reset all buttons
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('correct', 'incorrect');
                btn.classList.add('bg-gray-50');
            });
            
            // Hide all feedback
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.classList.add('hidden');
            });
            
            // Show navigation buttons
            document.getElementById('prevBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            // Show instructions slide
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));
            document.getElementById('instructions-slide').classList.add('active');
            
            document.getElementById('counter').textContent = translations[currentLanguage].instructionCounter;
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').disabled = false;
        }

        // Language toggle functionality
        let currentLanguage = 'ms'; // Default to Malay
        
        const translations = {
            ms: {
                title: 'üêæ Ciri Haiwan Vertebrata üêæ',
                progress: 'Progres',
                previous: '‚Üê Previous',
                next: 'Next ‚Üí',
                completed: 'Selesai!',
                instructionCounter: 'Arahan',
                congratulations: 'Tahniah! Kuiz Selesai!',
                yourScore: 'Markah Anda',
                restart: 'Mula Semula',
                correctFeedback: 'üéâ Tahniah! Jawapan anda betul.',
                incorrectFeedback: '‚ùå Cuba lagi!',
                langBtn: 'English',
                instructionsTitle: 'Arahan Kuiz',
                startBtn: 'Mula Kuiz',
                instructions: [
                    'Kuiz ini mengandungi 8 soalan tentang ciri-ciri haiwan vertebrata',
                    'Setiap soalan mempunyai 2 pilihan jawapan',
                    'Klik pada jawapan yang anda rasa betul',
                    'Jika jawapan salah, anda boleh cuba lagi',
                    'Gunakan butang "Previous" dan "Next" untuk navigasi',
                    'Markah anda akan dipaparkan di akhir kuiz'
                ],
                questions: [
                    'Apakah jenis darah kelawar?',
                    'Apakah habitat bagi katak?',
                    'Apakah jenis liputan badan ular?',
                    'Apakah organ pernafasan bagi ikan?',
                    'Apakah cara pembiakan bagi penyu?',
                    'Apakah organ pernafasan bagi lembu?',
                    'Apakah jenis liputan badan singa?',
                    'Apakah kelas vertebrata bagi salamander?'
                ],
                animals: ['Kelawar', 'Katak', 'Ular', 'Ikan', 'Penyu', 'Lembu', 'Singa', 'Salamander'],
                answers: [
                    ['Berdarah sejuk', 'Berdarah panas'],
                    ['Boleh hidup di darat dan air', 'Hanya hidup di darat'],
                    ['Berlendir', 'Bersisik keras'],
                    ['Paru-paru', 'Insang'],
                    ['Bertelur', 'Melahirkan anak'],
                    ['Insang', 'Paru-paru'],
                    ['Mempunyai bulu, melahirkan anak', 'Bersisik dan bertelur'],
                    ['Mamalia', 'Amfibia']
                ],
                scoreMessages: [
                    'Sempurna! Anda menguasai topik ini dengan baik! üåü',
                    'Bagus sekali! Prestasi yang cemerlang! üëè',
                    'Tidak buruk! Teruskan usaha anda! üí™',
                    'Jangan berputus asa! Cuba lagi untuk hasil yang lebih baik! üìö'
                ]
            },
            en: {
                title: 'üêæ Vertebrate Animal Characteristics üêæ',
                progress: 'Progress',
                previous: '‚Üê Previous',
                next: 'Next ‚Üí',
                completed: 'Complete!',
                instructionCounter: 'Instructions',
                congratulations: 'Congratulations! Quiz Complete!',
                yourScore: 'Your Score',
                restart: 'Restart',
                correctFeedback: 'üéâ Congratulations! Your answer is correct.',
                incorrectFeedback: '‚ùå Try again!',
                langBtn: 'Bahasa Malaysia',
                instructionsTitle: 'Quiz Instructions',
                startBtn: 'Start Quiz',
                instructions: [
                    'This quiz contains 8 questions about vertebrate animal characteristics',
                    'Each question has 2 answer choices',
                    'Click on the answer you think is correct',
                    'If the answer is wrong, you can try again',
                    'Use "Previous" and "Next" buttons for navigation',
                    'Your score will be displayed at the end of the quiz'
                ],
                questions: [
                    'What type of blood does a bat have?',
                    'What is the habitat of a frog?',
                    'What type of body covering does a snake have?',
                    'What is the respiratory organ of a fish?',
                    'What is the reproduction method of a turtle?',
                    'What is the respiratory organ of a cow?',
                    'What type of body covering does a lion have?',
                    'What vertebrate class does a salamander belong to?'
                ],
                animals: ['Bat', 'Frog', 'Snake', 'Fish', 'Turtle', 'Cow', 'Lion', 'Salamander'],
                answers: [
                    ['Cold-blooded', 'Warm-blooded'],
                    ['Can live on land and water', 'Only lives on land'],
                    ['Slimy', 'Hard scales'],
                    ['Lungs', 'Gills'],
                    ['Lay eggs', 'Give birth to live young'],
                    ['Gills', 'Lungs'],
                    ['Has fur, gives birth to live young', 'Has scales and lays eggs'],
                    ['Mammal', 'Amphibian']
                ],
                scoreMessages: [
                    'Perfect! You have mastered this topic very well! üåü',
                    'Excellent! Outstanding performance! üëè',
                    'Not bad! Keep up your efforts! üí™',
                    'Don\'t give up! Try again for better results! üìö'
                ]
            }
        };

        function toggleLanguage() {
            currentLanguage = currentLanguage === 'ms' ? 'en' : 'ms';
            const t = translations[currentLanguage];
            
            // Update UI elements
            document.getElementById('title').textContent = t.title;
            document.querySelector('.text-sm.font-semibold.text-gray-600').textContent = t.progress;
            document.getElementById('prevBtn').innerHTML = t.previous;
            document.getElementById('nextBtn').innerHTML = t.next;
            document.getElementById('langBtn').textContent = t.langBtn;
            
            // Update instructions slide
            document.getElementById('instructionsTitle').textContent = t.instructionsTitle;
            document.getElementById('startBtn').textContent = t.startBtn;
            
            // Update instruction list
            const instructionsList = document.getElementById('instructionsList');
            instructionsList.innerHTML = '';
            t.instructions.forEach((instruction, index) => {
                const li = document.createElement('li');
                li.className = 'flex items-start';
                li.innerHTML = `
                    <span class="text-blue-500 mr-3">${index + 1}.</span>
                    <span>${instruction}</span>
                `;
                instructionsList.appendChild(li);
            });
            
            // Update question slides
            for (let i = 0; i < 8; i++) {
                const slide = document.getElementById(`slide-${i}`);
                if (slide) {
                    const animalName = slide.querySelector('h2');
                    const questionText = slide.querySelector('p');
                    const answerButtons = slide.querySelectorAll('.answer-btn');
                    
                    if (animalName) animalName.textContent = t.animals[i];
                    if (questionText) questionText.textContent = t.questions[i];
                    
                    // Update answer buttons
                    answerButtons.forEach((btn, btnIndex) => {
                        btn.textContent = t.answers[i][btnIndex];
                    });
                }
            }
            
            // Update results page if visible
            const resultsSlide = document.getElementById('results-slide');
            if (resultsSlide.classList.contains('active')) {
                resultsSlide.querySelector('h2').textContent = t.congratulations;
                resultsSlide.querySelector('.text-xl').textContent = t.yourScore;
                resultsSlide.querySelector('button').textContent = t.restart;
                
                // Update score message
                const percentage = (score / totalQuestions) * 100;
                let messageIndex = 3; // Default to lowest score message
                if (percentage === 100) messageIndex = 0;
                else if (percentage >= 75) messageIndex = 1;
                else if (percentage >= 50) messageIndex = 2;
                
                document.getElementById('scoreMessage').textContent = t.scoreMessages[messageIndex];
            }
        }

        function startQuiz() {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));
            
            document.getElementById('slide-0').classList.add('active');
            currentSlide = 0;
            updateProgress();
            document.getElementById('prevBtn').disabled = false;
            document.getElementById('nextBtn').disabled = true;
        }

        // Initialize - fix the duplicate declaration
        currentSlide = -1;
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('counter').textContent = translations[currentLanguage].instructionCounter;
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').disabled = false;
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97fd9a350265f594',t:'MTc1Nzk5Njc1Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

